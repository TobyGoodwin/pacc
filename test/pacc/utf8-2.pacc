/*
int
parse '$1' 1
parse 'Â£2' 2
parse 'â‚¬3' 3
noparse x4 S 1
noparse 'ğ„4' S 1
noparse '$x' Amount 2
*/

/* This test verifies the workaround for the lack of UTF-8 support in
 * character classes. See http://paccrat.org/entry/2012-06-04
 */

S :: int â† Currency a:Amount â†’ a
Amount â† [0-9] { *ref_ptr(ref()) - '0' }
Currency :: void â† "$":. / "Â£":. / "â‚¬":.
